{"version":3,"sources":["Notation.js","notes.js","Piano.js","App.js","index.js"],"names":["Notation","note","useEffect","abcjs","renderAbc","notation","scale","staffwidth","id","name","trebleNotation","bassNotation","trebleNaturals","trebleSharps","trebleFlats","bassNaturals","bassSharps","bassFlats","Piano","showLabel","onClick","whiteKeys","slice","length","concat","sharps","findSharp","key","find","k","className","map","App","useState","useTreble","setUseTreble","useBass","setUseBass","useSharps","setUseSharps","useFlats","setUseFlats","tempo","setTempo","startTime","useRef","attempts","setAttempts","right","setRight","tooSlow","setTooSlow","wrong","setWrong","notes","useMemo","included","push","setNote","onNoteClicked","useCallback","clicked","Date","getTime","current","nextNote","Math","floor","random","type","checked","onChange","e","target","value","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f8d400d0.chunk.js","sourcesContent":["import React, { useEffect } from 'react';\r\n\r\nimport abcjs from 'abcjs';\r\n\r\nexport default function Notation({ note }) {\r\n  useEffect(() => {\r\n    abcjs.renderAbc('abc', note.notation, { scale: 2, staffwidth: 200 });\r\n  }, [note]);\r\n\r\n  return <div id=\"abc\"></div>;\r\n}","function note(id, name, notation) {\r\n  return { id, name, notation };\r\n}\r\n\r\nfunction trebleNotation(note) {\r\n  return `X;1\\nV:PianoRightHand clef=treble\\nV:PianoLeftHand clef=bass\\n[V: PianoRightHand] ${note}`;\r\n}\r\n\r\nfunction bassNotation(note) {\r\n  return `X;1\\nV:PianoRightHand clef=treble\\nV:PianoLeftHand clef=bass\\n[V: PianoLeftHand] ${note}`;\r\n}\r\n\r\nconst trebleNaturals = [\r\n  note('C4', 'C', trebleNotation('C')),\r\n  note('D4', 'D', trebleNotation('D')),\r\n  note('E4', 'E', trebleNotation('E')),\r\n  note('F4', 'F', trebleNotation('F')),\r\n  note('G4', 'G', trebleNotation('G')),\r\n  note('A4', 'A', trebleNotation('A')),\r\n  note('B4', 'B', trebleNotation('B')),\r\n  note('C5', 'C', trebleNotation('C\\'')),\r\n  note('D5', 'D', trebleNotation('D\\'')),\r\n  note('E5', 'E', trebleNotation('E\\'')),\r\n  note('F5', 'F', trebleNotation('F\\'')),\r\n  note('G5', 'G', trebleNotation('G\\'')),\r\n];\r\n\r\nconst trebleSharps = [\r\n  note('C4#', 'C#', trebleNotation('^C')),\r\n  note('D4#', 'D#', trebleNotation('^D')),\r\n  note('F4#', 'F#', trebleNotation('^F')),\r\n  note('G4#', 'G#', trebleNotation('^G')),\r\n  note('A4#', 'A#', trebleNotation('^A')),\r\n  note('C5#', 'C#', trebleNotation('^C\\'')),\r\n  note('D5#', 'D#', trebleNotation('^D\\'')),\r\n  note('F5#', 'F#', trebleNotation('^F\\'')),\r\n];\r\n\r\nconst trebleFlats = [\r\n  note('C4#', 'D♭', trebleNotation('_D')),\r\n  note('D4#', 'E♭', trebleNotation('_E')),\r\n  note('F4#', 'G♭', trebleNotation('_G')),\r\n  note('G4#', 'A♭', trebleNotation('_A')),\r\n  note('A4#', 'B♭', trebleNotation('_B')),\r\n  note('C5#', 'D♭', trebleNotation('_D\\'')),\r\n  note('D5#', 'E♭', trebleNotation('_E\\'')),\r\n];\r\n\r\nconst bassNaturals = [\r\n  note('F2', 'F', bassNotation('F,,')),\r\n  note('G2', 'G', bassNotation('G,,')),\r\n  note('A2', 'A', bassNotation('A,,')),\r\n  note('B2', 'B', bassNotation('B,,')),\r\n  note('C3', 'C', bassNotation('C,')),\r\n  note('D3', 'D', bassNotation('D,')),\r\n  note('E3', 'E', bassNotation('E,')),\r\n  note('F3', 'F', bassNotation('F,')),\r\n  note('G3', 'G', bassNotation('G,')),\r\n  note('A3', 'A', bassNotation('A,')),\r\n  note('B3', 'B', bassNotation('B,')),\r\n  note('C4', 'C', bassNotation('C'))\r\n];\r\n\r\nconst bassSharps = [\r\n  note('F2#', 'F#', bassNotation('^F,,')),\r\n  note('G2#', 'G#', bassNotation('^G,,')),\r\n  note('A2#', 'A#', bassNotation('^A,,')),\r\n  note('C3#', 'C#', bassNotation('^C,')),\r\n  note('D3#', 'D#', bassNotation('^D,')),\r\n  note('F3#', 'F#', bassNotation('^F,')),\r\n  note('G3#', 'G#', bassNotation('^G,')),\r\n  note('A3#', 'A#', bassNotation('^A,'))\r\n];\r\n\r\nconst bassFlats = [\r\n  note('F2#', 'G♭', bassNotation('_G,,')),\r\n  note('G2#', 'A♭', bassNotation('_A,,')),\r\n  note('A2#', 'B♭', bassNotation('_B,,')),\r\n  note('C3#', 'D♭', bassNotation('_D,')),\r\n  note('D3#', 'E♭', bassNotation('_E,')),\r\n  note('F3#', 'G♭', bassNotation('_G,')),\r\n  note('G3#', 'A♭', bassNotation('_A,')),\r\n  note('A3#', 'B♭', bassNotation('_B,')),\r\n];\r\n\r\nexport { trebleNaturals, trebleSharps, trebleFlats, bassNaturals, bassSharps, bassFlats };","import React from 'react';\r\n\r\nimport { trebleNaturals, trebleSharps, bassNaturals, bassSharps } from './notes';\r\n\r\nimport './Piano.css';\r\n\r\nexport default function Piano({ showLabel, onClick }) {\r\n  const whiteKeys = bassNaturals.slice(0, bassNaturals.length - 1).concat(trebleNaturals);\r\n  const sharps  = bassSharps.concat(trebleSharps);\r\n\r\n  const findSharp = key => sharps.find(k => k.id === key.id + '#');\r\n\r\n  return <ul className=\"piano\">\r\n    { whiteKeys.map(key => (\r\n      <li key={key.id}>\r\n        <div className=\"anchor\" onClick={() => onClick(key)} />\r\n        { findSharp(key) && <span onClick={() => onClick(findSharp(key))} /> }\r\n        { showLabel && <div className=\"note\">{ key.name }</div> }\r\n      </li>\r\n    ))}\r\n  </ul>;\r\n}","import React, { useCallback, useMemo, useRef, useState, useEffect } from 'react';\n\nimport Notation from './Notation';\nimport Piano from './Piano';\n\nimport { trebleNaturals, trebleSharps, trebleFlats, bassNaturals, bassSharps, bassFlats } from './notes';\n\nimport './App.css';\n\nfunction App() {\n  const [useTreble, setUseTreble] = useState(true);\n  const [useBass, setUseBass] = useState(true);\n  const [useSharps, setUseSharps] = useState(true);\n  const [useFlats, setUseFlats] = useState(true);\n  const [tempo, setTempo] = useState(80);\n\n  const startTime = useRef();\n\n  const [attempts, setAttempts] = useState(0);\n  const [right, setRight] = useState(0);\n  const [tooSlow, setTooSlow] = useState(0);\n  const [wrong, setWrong] = useState(0);\n\n  const notes = useMemo(() => {\n    const included = [];\n\n    if (useTreble) {\n      included.push(...trebleNaturals);\n      if (useSharps) {\n        included.push(...trebleSharps);\n      }\n      if (useFlats) {\n        included.push(...trebleFlats);\n      }\n    }\n\n    if (useBass) {\n      included.push(...bassNaturals);\n      if (useSharps) {\n        included.push(...bassSharps);\n      }\n      if (useFlats) {\n        included.push(...bassFlats);\n      }\n    }\n    \n    return included;\n  }, [useBass, useFlats, useSharps, useTreble])\n\n  const [note, setNote] = useState(trebleNaturals[0]);\n  const onNoteClicked = useCallback(clicked => {\n    if (clicked.id === note.id) {\n      const delay = new Date().getTime() - startTime.current;\n\n      if (delay > 60000 / tempo) {\n        setTooSlow(tooSlow => tooSlow + 1);\n      }\n      else {\n        setRight(right => right + 1);\n      }\n    }\n    else {\n      setWrong(wrong => wrong + 1);\n    }\n\n    setAttempts(attempts => attempts + 1);\n\n    const nextNote = notes[Math.floor(Math.random() * notes.length)];\n    setNote(nextNote);\n  }, [note, notes, tempo]);\n\n  useEffect(() =>{\n    startTime.current = new Date().getTime();\n  }, [attempts]);\n\n  return (\n    <div className=\"app\">\n      <nav>\n        <header>\n          Piano Note Trainer\n        </header>\n      </nav>\n      <main>\n        <div className=\"name-me-later\">\n          <div>\n            <h3>Settings</h3>\n            <p>\n              <label>\n                <input type=\"checkbox\" checked={ useTreble } onChange={ e => setUseTreble(e.target.checked) } /> \n                Treble Clef\n              </label>\n            </p>\n            <p>\n              <label>\n                <input type=\"checkbox\" checked={ useBass } onChange={ e => setUseBass(e.target.checked) } />\n                Bass Clef\n              </label>\n            </p>\n            <p>\n              <label>\n                <input type=\"checkbox\" checked={ useSharps } onChange={ e => setUseSharps(e.target.checked) } />\n                Sharps\n              </label>\n            </p>\n            <p>\n              <label>\n                <input type=\"checkbox\" checked={ useFlats } onChange={ e => setUseFlats(e.target.checked) } />\n                Flats\n              </label>\n            </p>\n            <p>\n              <label>\n                Tempo: \n                <input type=\"text\" value={ tempo } onChange={ e => setTempo(e.target.value) } />\n              </label>\n            </p>\n          </div>\n          <div>\n            <Notation note={note} />\n          </div>\n          <div>\n            <h3>Results</h3>\n            <p>Attempts: { attempts }</p>\n            <p>Right: { right }</p>\n            <p>Too slow: { tooSlow }</p>\n            <p>Wrong: { wrong }</p>\n          </div>\n        </div>\n        <div>\n          <Piano onClick={onNoteClicked} />\n        </div>\n      </main>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\n\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}